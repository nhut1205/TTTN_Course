<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Backup và Restore Cơ Sở Dữ Liệu</title>
    <link rel="stylesheet" href="/Frontend/media/assets/css/backup.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="/TTTN_Course/Frontend/media/assets/css/analys.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <script src="/TTTN_Course/Frontend/media/assets/js/logOut_admin.js"></script>

    <style>
      .form-container {
        margin-bottom: 30px;
        padding: 20px;
        border: 1px solid #ddd;
        border-radius: 8px;
        background-color: #f9f9f9;
      }
      .container {
        margin-left: 200px; /* Để trừ khoảng cách sidebar */
        padding: 20px;
      }
      .table-container {
        margin-top: 40px;
      }
    </style>
  </head>
  <body>
    <div class="sidebar">
      <ul class="menu">
        <li>
          <a href="/TTTN_Course/Frontend/pages/admin/analys.html" class="active"
            ><i class="fas fa-chart-pie"></i> Dashboard</a
          >
        </li>
        <li>
          <a href="/TTTN_Course/Frontend/pages/admin/admin_crud_Movie.html"
            ><i class="fas fa-table"></i>Crud Movie</a
          >
        </li>
        <li>
          <a href="/TTTN_Course/Frontend/pages/admin/admin_crud_Actor.html"
            ><i class="fas fa-table"></i>Crud Actor</a
          >
        </li>
        <li>
          <a href="/TTTN_Course/Frontend/pages/admin/admin_BackUp.html"
            ><i class="fas fa-file-invoice"></i> BackUp</a
          >
        </li>
        <li>
          <a id="logoutLi" href="#"><i class="fas fa-user"></i> Log Out</a>
        </li>
      </ul>
    </div>

    <div class="container">
      <h1>Backup và Restore Cơ Sở Dữ Liệu</h1>

      <!-- Backup Form -->
      <div class="form-container">
        <h2>Sao Lưu Cơ Sở Dữ Liệu</h2>
        <button id="backupBtn" type="button" class="btn btn-primary">
          Sao lưu
        </button>
        <div id="backupMessage" style="margin-top: 20px; color: green"></div>
      </div>

      <!-- Restore Form -->
      <div class="form-container">
        <h2>Khôi Phục Cơ Sở Dữ Liệu</h2>
        <input
          type="file"
          id="restoreFile"
          accept=".bak"
          class="form-control"
        />
        <button id="restoreBtn" type="button" class="btn btn-success mt-2">
          Khôi phục
        </button>
        <div id="restoreMessage" style="margin-top: 20px; color: red"></div>
      </div>

      <!-- Backup File List -->
      <div class="form-container table-container">
        <h2>Danh Sách File Backup</h2>
        <table class="table table-striped table-bordered" id="backupTable">
          <thead class="table-dark">
            <tr>
              <th>Tên File</th>
              <th>Ngày Tạo</th>
            </tr>
          </thead>
          <tbody>
            <!-- Dữ liệu sẽ được thêm vào đây -->
          </tbody>
        </table>
      </div>
    </div>
    <script>
      function logOut() {
        document
          .getElementById("logoutLi")
          .addEventListener("click", function (event) {
            event.preventDefault(); // Ngăn hành vi mặc định của liên kết
            localStorage.removeItem("username");
            localStorage.removeItem("token");
            alert("Bạn đã đăng xuất.");
            window.location.href = "/Frontend/pages/admin/login.html";
          });
      }
      $(document).ready(function () {
        logOut();
      });
    </script>
    <script src="/TTTN_Course/Frontend/media/assets/js/backup.js"></script>
  </body>
</html>

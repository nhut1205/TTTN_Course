<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Thông tin cá nhân</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>
  <link rel="stylesheet" href="/TTTN_Course/Frontend/media/assets/css/styles.css"/>
  <link rel="stylesheet" href="/TTTN_Course/Frontend/media/assets/css/user_detail.css"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"/>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="/TTTN_Course/Frontend/media/assets/js/user_details.js"></script>
</head>
<body>

  <!-- Header -->
  <div id="header"></div>

  <!-- Main -->
  <div class="User-Detail-Main">
    <div class="row g-3">
      <div class="col-2 detail_left">

        <div>
          <p>Thông tin người dùng</p>
          <a class="btn btn-secondary active" id="info-btn" href="#">Thông tin cá nhân</a>
          <a class="btn btn-secondary" id="rating-btn" href="#">Khóa học đã đánh giá</a>
          <a class="btn btn-secondary" id="watchlist-btn" href="#">Watchlist</a>
        </div>

      </div>

      <div class="col-10 detail_right">
        <div>

          <!-- Container_UserDetails -->
          <div class="container_UserDetails box" id="info">
            <div class="profile-header">
              <h2>Thông tin cá nhân</h2>
              <img id="avatar" class="avatar" src="" alt="Avatar" />
            </div>
            <div class="profile-info">
              <p><strong>Họ tên:</strong> <span id="fullName"></span></p>
              <p><strong>Giới tính:</strong> <span id="gender"></span></p>
              <p><strong>Ngày sinh:</strong> <span id="dob"></span></p>
              <p><strong>Số điện thoại:</strong> <span id="phoneNumber"></span></p>
              <p><strong>Địa chỉ:</strong></strong> <span id="address"></span></p>
            </div>
            <hr />
            <form id="updateForm">
              <div class="form-group">
                <label for="fullNameInput">Họ tên</label>
                <input type="text" id="fullNameInput" class="form-control" />
              </div>
              <div class="form-group">
                <label for="genderInput">Giới tính</label>
                <select id="genderInput" class="form-control">
                  <option value="Nam">Nam</option>
                  <option value="Nữ">Nữ</option>
                  <option value="Khác">Khác</option>
                </select>
              </div>
              <div class="form-group">
                <label for="dobInput">Ngày sinh</label>
                <input type="date" id="dobInput" class="form-control" />
              </div>
              <div class="form-group">
                <label for="phoneNumberInput">Số điện thoại</label>
                <input type="text" id="phoneNumberInput" class="form-control" />
              </div>
              <div class="form-group">
                <label for="addressInput">Địa chỉ</label>
                <input type="text" id="addressInput" class="form-control" />
              </div>
              <div class="form-group">
                <label for="avatarFile">Cập nhật ảnh đại diện</label>
                <input type="file" id="avatarFile" class="form-control" />
              </div>
              <button type="submit" class="btn btn-primary">Cập nhật</button>
            </form>
          </div>

          <!-- Container_ratedMoviesList -->
          <div class="container_UserDetails box" id="rating" style="display: none;">
            <h2>Phim đã đánh giá</h2>
            <div class="grid_container_user" id="ratedMoviesList"></div>  
          </div>

          <!-- Container_watchlistMoviesList -->
          <div class="container_UserDetails box" id="watchlist" style="display: none;">
            <h2 >Danh sách yêu thích</h2>
            <div class="grid_container_user" id="watchlistMoviesList"></div> 
          </div>

        </div>
      </div>

    </div>

  </div>

  <!-- Footer Section -->
  <div id="footer"></div>

  <!-- ==================== SCRIPT ==================== -->
  <script>
    $(document).ready(function () {
      // Load header và footer
      $("#header").load("../components/header_none.html");
      $("#footer").load("../components/footer.html");
    });
  </script>

  <!-- Load bấm nút -->
  <script>
    // Hàm để hiển thị box tương ứng và ẩn các box khác
    function showBox(selectedId) {
      // Lấy tất cả các box
      const boxes = document.querySelectorAll('.box');
      // Lặp qua từng box và thay đổi hiển thị dựa trên selectedId
      boxes.forEach(box => {
        if (box.id === selectedId) {
          box.style.display = 'block';
        } else {
          box.style.display = 'none';
        }
      });
    }

    // Hàm để đặt active class cho nút được nhấn và gỡ bỏ từ các nút khác 
    function setActiveButton(selectedButton) { 
      const buttons = document.querySelectorAll('.btn'); 
      buttons.forEach(button => { button.classList.remove('active'); }); 
      selectedButton.classList.add('active');
    }

    // Lấy các nút và thêm sự kiện click
    document.getElementById('info-btn').addEventListener('click', function(event) {
      event.preventDefault(); // Ngăn chặn hành vi mặc định của liên kết
      showBox('info');
      setActiveButton(this);
    });

    document.getElementById('rating-btn').addEventListener('click', function(event) {
      event.preventDefault(); // Ngăn chặn hành vi mặc định của liên kết
      showBox('rating');
      setActiveButton(this);
    });

    document.getElementById('watchlist-btn').addEventListener('click', function(event) {
      event.preventDefault(); // Ngăn chặn hành vi mặc định của liên kết
      showBox('watchlist');
      setActiveButton(this);
    });

  </script>
  <script src="/TTTN_Course/Frontend/media/assets/js/update_profile.js"></script>
  <script src="/TTTN_Course/Frontend/media/assets/js/home_page.js"></script>
</body>
</html>
